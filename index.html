<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인터랙티브 카드 덱</title>
    <style>
        @font-face {
            font-family: 'Pretendard-Regular';
            src: url('https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
            font-weight: 400;
            font-style: normal;
        }
        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
            overflow: hidden;
            font-family: 'Pretendard-Regular', sans-serif;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }
        .carousel {
            position: relative;
            width: 160px;
            height: 240px;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            cursor: grab;
        }
        .carousel:active {
            cursor: grabbing;
        }
        .card {
            position: absolute;
            width: 140px;
            height: 210px;
            border-radius: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            backface-visibility: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 4px solid white;
            transform-origin: center;
        }
        .card:hover {
            transform: scale(1.05) translateZ(20px);
            box-shadow: 0 8px 16px rgba(255,255,255,0.2);
        }
        .card-color {
            width: 100%;
            height: 80%;
            transition: all 0.3s;
        }
        .card:hover .card-color {
            height: 85%;
        }
        .card-info {
            width: 100%;
            height: 20%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px;
            box-sizing: border-box;
            background-color: white;
            font-size: 10px;
            line-height: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: all 0.3s;
        }
        .card:hover .card-info {
            height: 15%;
            font-size: 9px;
        }
        .card-title {
            font-weight: bold;
            margin-right: 5px;
        }
        .card-subtitle {
            color: #666;
        }
        .card.selected {
            transform: translateZ(80px) scale(1.2);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="carousel" id="carousel"></div>
    </div>

    <script>
        const links = [
            {href: "1.html", text: "푸터에 들어갈 내용"},
            {href: "2.html", text: "내 취향 100% 스마트폰"},
            {href: "3.html", text: "명함은 쓸모가 없나요"},
            {href: "4.html", text: "내용을 잊게 하는 인터렉션"},
            {href: "5.html", text: "사무실 앞 불꽃놀이"},
            {href: "https://thunder.askitmore.com", text: "구름과 번개"},
            {href: "https://super.askitmore.com", text: "채터누가 클럽"},
            {href: "8.html", text: "스마트폰 스트레스 테스트"},
            {href: "9.html", text: "이중 회전 추"},
            {href: "10.html", text: "권능 체험 사이트"}
        ];

        const colors = [
            '#E94E77', '#8A3D7E', '#69A553', '#E2C044', '#F16B3C',
            '#4E598C', '#9DC4B5', '#C39BD3', '#F1948A', '#85C1E9'
        ];

        function getRandomDate() {
            const year = 2024;
            const month = 9;
            const day = Math.floor(Math.random() * 30) + 1;
            return `${year}.${month.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;
        }

        let currentAngle = 0;
        const carousel = document.getElementById('carousel');
        const totalCards = links.length;
        let isDragging = false;
        let startX, startAngle;
        let autoRotateInterval;

        function createCard(link, index) {
            const card = document.createElement('div');
            card.className = 'card';
            const color = colors[index % colors.length];
            card.innerHTML = `
                <div class="card-color" style="background-color: ${color};"></div>
                <div class="card-info">
                    <span class="card-title">${link.text}</span>
                    <span class="card-subtitle">${getRandomDate()}</span>
                </div>
            `;
            
            const angle = (index / totalCards) * 360;
            const radius = 240;
            card.style.transform = `rotateY(${angle}deg) translateZ(${radius}px)`;
            
            card.addEventListener('click', (e) => handleCardClick(e, card, link.href));
            return card;
        }

        function handleCardClick(e, card, href) {
            if (!isDragging) {
                if (card.classList.contains('selected')) {
                    window.location.href = href;
                } else {
                    const allCards = document.querySelectorAll('.card');
                    allCards.forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                }
            }
        }

        function rotateCarousel(angle) {
            currentAngle = angle;
            carousel.style.transform = `rotateY(${currentAngle}deg)`;
        }

        function initializeCarousel() {
            carousel.innerHTML = '';
            links.forEach((link, index) => {
                const card = createCard(link, index);
                carousel.appendChild(card);
            });
        }

        function handleStart(e) {
            isDragging = true;
            startX = e.pageX || e.touches[0].pageX;
            startAngle = currentAngle;
            carousel.style.transition = 'none';
            stopAutoRotate();
        }

        function handleMove(e) {
            if (!isDragging) return;
            const x = e.pageX || e.touches[0].pageX;
            const dx = x - startX;
            const newAngle = startAngle + dx * 0.5;
            rotateCarousel(newAngle);
        }

        function handleEnd() {
            isDragging = false;
            carousel.style.transition = 'transform 0.5s';
            const snapAngle = Math.round(currentAngle / (360 / totalCards)) * (360 / totalCards);
            rotateCarousel(snapAngle);
            startAutoRotate();
        }

        function autoRotate() {
            currentAngle -= 1;  // 부드러운 회전을 위해 각도를 작게 변경
            rotateCarousel(currentAngle);
        }

        function startAutoRotate() {
            stopAutoRotate();
            autoRotateInterval = setInterval(autoRotate, 50);  // 20fps로 부드럽게 회전
        }

        function stopAutoRotate() {
            if (autoRotateInterval) {
                clearInterval(autoRotateInterval);
            }
        }

        carousel.addEventListener('mousedown', handleStart);
        carousel.addEventListener('touchstart', handleStart);

        document.addEventListener('mousemove', handleMove);
        document.addEventListener('touchmove', handleMove);

        document.addEventListener('mouseup', handleEnd);
        document.addEventListener('touchend', handleEnd);

        window.addEventListener('load', () => {
            initializeCarousel();
            startAutoRotate();
        });
        window.addEventListener('resize', initializeCarousel);

        // 마우스가 캐러솔 위에 있을 때 자동 회전 멈춤
        carousel.addEventListener('mouseenter', stopAutoRotate);
        carousel.addEventListener('mouseleave', startAutoRotate);
    </script>
</body>
</html>
